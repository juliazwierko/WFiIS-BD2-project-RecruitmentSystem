# Recruitment System â€“ Shared Types (UDT, CLR)
This project contains shared types used in the Recruitment System project.
It is a class library targeting .NET Framework 4.7.2 (CLR) and includes the following classes:

- `Candidate.cs`
- `RecruitmentSummary.cs`
- `Evaluation.cs`
- `Interview.cs`
- `TaskItem.cs`
- `HrNote.cs`

## Requirements
- Visual Studio 2017+ with .NET Framework 4.7.2
- .NET Framework 4.7.2 target
- Proper `App.config` with DB connection string (`HRConnection`)
- SQL Server with `HR_` database accessible

## Projects Info
### RecruitmentTypes (CLR Library)
- **Type**: Class Library (DLL)
- **Framework**: .NET Framework 4.7.2  
- **Namespace**: `RecruitmentTypes`  
- **Purpose**: Contains shared User-Defined Types (UDTs) and CLR methods for use in SQL Server and external projects.
- **Output File**: `RecruitmentTypes.dll` (registered as SQL Server CLR Assembly)

### RecruitmentConsoleApp (Console Application)
- **Type**: Executable (Console App)
- **Framework**: .NET Framework 4.7.2  
- **Namespace**: `RecruitmentConsoleApp`  
- **Purpose**: Application to test or run operations using the shared types defined in `RecruitmentTypes`. Interacts with SQL Server using ADO.NET.
- **Dependencies**: References `RecruitmentTypes` project directly.
- **Output File**: `RecruitmentConsoleApp.exe`
- **Configuration**: ADO.NET connection string should be updated in `App.config` before execution.
- **Build Configurations**:
  - **Debug**: Output to `bin\Debug\`
  - **Release**: Output to `bin\Release\`

### RecruitmentTests (Unit Test Project)
- **Type**: Unit Test Project
- **Framework**: .NET Framework 4.7.2
- **Namespace**: RecruitmentTests
- **Purpose**: Contains unit tests for validating functionality of `RecruitmentTypes` and integration tests for `RecruitmentConsoleApp`. Ensures code correctness and regression prevention.
- **Dependencies**: References both `RecruitmentTypes` and `RecruitmentConsoleApp` projects.
- **Output File**: No output executable; test results generated by test runner.
- **Test Framework**: MSTest (or specify NUnit/xUnit if used)
- **Build Configurations**:
  - **Debug**: Used for active development and debugging tests.
  - **Release**: Used for continuous integration builds.

## How to Use

1. Start with the `RecruitmentTypes` project (`CLR/RecruitmentTypes/`) to build a `.dll` file containing the user-defined types written in C#.

2. Then go to the `Deploy` folder and run `init_hr_db.sql`. This script will help you create and configure the database, clean existing objects, and remove unnecessary tables, functions, or other related items.  
   At the end, the `.dll` file will be installed on your Microsoft SQL Server.  
   **Note:** Make sure to change the path to the assembly when you upload it to match your local environment!

3. Next, go to the `Database` folder:  
   - Run `Types.sql` to define the types in the T-SQL environment.  
   - Then run `Tables.sql` to create the tables using those types.  
   - Finally, run `Functions.sql` to add stored functions.

4. After completing the above steps, you can run the `Program.cs` file located in `CLR/RecruitmentConsoleApp`.  
   **Note:** Don't forget to update the ADO.NET connection string to point to **your** database.  
   For more details on how the console application works, refer to the documentation (in Polish) located in the `Documentation` folder.

5. If you add new methods, remember to write tests for them using the project in `UnitTests/RecruitmentTypesTest/`.
